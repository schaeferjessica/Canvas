<!DOCTYPE html>
<html>
<head>
<title>Canvas</title>
<link rel="stylesheet" href="dots.scss">
<!-- Load the Paper.js library -->
<script type="text/javascript" src="paper-full.js"></script>
<script src="howler.js"></script>
<!-- Define inlined PaperScript associate it with myCanvas -->
<script type="text/paperscript" canvas="myCanvas">

var keyData = {
 a: {
 color: "#8e8987",
 sound: new Howl({
  src: ['sounds/bubbles.mp3']
    })
  },
   b: {
 color: "#5dbcd2",
 sound: new Howl({
  src: ['sounds/clay.mp3']
    })
  },
  c: {
 color: "#e0aaa3",
 sound: new Howl({
  src: ['sounds/confetti.mp3']
    })
  },
  d: {
 color: "#313846",
 sound: new Howl({
  src: ['sounds/corona.mp3']
    })
  },
  e: {
 color: "#a6a5bb",
 sound: new Howl({
  src: ['sounds/dotted-spiral.mp3']
    })
  },
  f: {
 color: "#737181",
 sound: new Howl({
  src: ['sounds/flash-1.mp3']
    })
  },
  g: {
 color: "#a58085",
 sound: new Howl({
  src: ['sounds/flash-2.mp3']
    })
  },
  h: {
 color: "#c5c3cd",
 sound: new Howl({
  src: ['sounds/flash-3.mp3']
    })
  },
  i: {
 color: "#e0c2bc",
 sound: new Howl({
  src: ['sounds/glimmer.mp3']
    })
  },
  j: {
 color: "#c5c3cd",
 sound: new Howl({
  src: ['sounds/moon.mp3']
    })
  },
  k: {
 color: "#3c637a",
 sound: new Howl({
  src: ['sounds/pinweel.mp3']
    })
  },
  l: {
 color: "#dd7694",
 sound: new Howl({
  src: ['sounds/piston-1.mp3']
    })
  },
  m: {
 color: "#9da592",
 sound: new Howl({
  src: ['sounds/piston-2.mp3']
    })
  },
  n: {
 color: "#e5a4ab",
 sound: new Howl({
  src: ['sounds/piston-3.mp3']
    })
  },
  o: {
 color: "#c31c1c",
 sound: new Howl({
  src: ['sounds/prism-1.mp3']
    })
  },
  p: {
 color: "#28365d",
 sound: new Howl({
  src: ['sounds/prism-2.mp3']
    })
  },
  q: {
 color: "#153674",
 sound: new Howl({
  src: ['sounds/prism-3.mp3']
    })
  },
  r: {
 color: "#e45d5d",
 sound: new Howl({
  src: ['sounds/splits.mp3']
    })
  },
  s: {
 color: "#db82a0",
 sound: new Howl({
  src: ['sounds/squiggle.mp3']
    })
  },
  t: {
 color: "#f3d38f",
 sound: new Howl({
  src: ['sounds/strike.mp3']
    })
  },
  u: {
 color: "#b4bbda",
 sound: new Howl({
  src: ['sounds/suspension.mp3']
    })
  },
  v: {
 color: "#8d94a0",
 sound: new Howl({
  src: ['sounds/timer.mp3']
    })
  },
  w: {
 color: "#e17e5a",
 sound: new Howl({
  src: ['sounds/ufo.mp3']
    })
  },
  x: {
 color: "#668ec6",
 sound: new Howl({
  src: ['sounds/veil.mp3']
    })
  },
  y: {
 color: "#e2b8c4",
 sound: new Howl({
  src: ['sounds/wipe.mp3']
    })
  },
  z: {
 color: "#a4bcbb",
 sound: new Howl({
  src: ['sounds/zig-zag.mp3']
    })
  },
  ä: {
 color: "#862e32",
 sound: new Howl({
  src: ['sounds/prism-2.mp3']
    })
  },
  ö: {
 color: "#f1c9cd",
 sound: new Howl({
  src: ['sounds/prism-2.mp3']
    })
  },
  ü: {
 color: "#f00e1b",
 sound: new Howl({
  src: ['sounds/prism-2.mp3']
    })
  },
}

var dots = [];
function onKeyDown(event) {
  if(keyData[event.key]){
  var maxPoint = new Point(view.size.width, view.size.height);
  var randomPoint = Point.random();
  var point = maxPoint * randomPoint;
  var newDot = new Path.Circle(point, 300)
  newDot.fillColor = keyData[event.key].color
  keyData[event.key].sound.play();
  dots.push(newDot);
  }
}

function onFrame(event){
  for(var i = 0; i < dots.length; i++){
    dots[i].scale(0.9);
    dots[i].fillColor.hue += 1;
    if(dots[i].area < 1){
      dots[i].remove();
      dots.splice(i, 1);
    }
  }
}

function onFrame(event){
  for(var i = 0; i < dots.length; i++){
    dots[i].fillColor.hue += 1;
    dots[i].scale(.9);
      if(dots[i].area < 1){
        dots[i].remove();
        dots.splice(i, 1);
    }
  }
}
</script>
</head>
<body>
  <canvas id="myCanvas" resize></canvas>
</body>
</html>
